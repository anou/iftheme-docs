jQuery(function(i){void 0===i.fn.on&&(i.fn.on=function(t,a,l,n){return"function"==typeof a?i(this.context).live(t,a):i(a).live(t,l,n),this}),i(document).on("click",".showerrors",function(){return i(".xdetailed-errors").toggle(),!1}),i(document).on("click",".shownotices",function(){return i(".xdetailed-updated").toggle(),!1}),i("form.widget_wysija").on("focus","input[placeholder]",function(){i(this).val()===i(this).attr("placeholder")&&i(this).val("")}),i("form.widget_wysija").on("blur","input[placeholder]",function(){""===i(this).val()&&i(this).val(i(this).attr("placeholder"))}),i("form.widget_wysija").on("focus","input.defaultlabels",function(){i(this).val()===i(this).attr("title")&&i(this).val("")}),i("form.widget_wysija").on("blur","input.defaultlabels",function(){""===i(this).val()&&i(this).val(i(this).attr("title"))}),i(document).on("submit","form.widget_wysija",function(t){if(t.preventDefault(),void 0!==wysijaAJAX.noajax)return i(this).validationEngine("validate");if(i(this).validationEngine("validate")===!0){var a=i(this).find('input[name="action"]').val(),l=i(this).find('input[name="controller"]').val(),n=i(this).attr("id"),s=i(this).serializeArray();wysijaAJAX.task=a,wysijaAJAX.controller=l,wysijaAJAX.formid=n,i.each(s,function(i,t){wysijaAJAX["data["+i+"][name]"]=t.name,wysijaAJAX["data["+i+"][value]"]=t.value}),i("#msg-"+n).html('<div class="allmsgs"><blink>'+wysijaAJAX.loadingTrans+"</blink></div>"),i("#"+n).fadeOut(),i.ajax({type:"post",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(t){i("#msg-"+n).html('<div class="allmsgs"></div>'),t.result||i("#"+n).fadeIn(),i.each(t.msgs,function(t,a){i("#msg-"+n+" .allmsgs ."+t+" ul").length||i("#msg-"+n+" .allmsgs").append('<div class="'+t+'"><ul></ul></div>'),i.each(a,function(a,l){i("#msg-"+n+" .allmsgs ."+t+" ul").append("<li>"+l+"</li>")})})},error:function(t,a,l){i("#msg-"+n).html('<div class="allmsgs"></div>'),i("#msg-"+n+" .allmsgs").html('<div class="error"><ul><li>Oops! There is a problem with this form:</li><li>textStatus:'+a+"</li><li>errorThrown:"+l+"</li><li>responseText:"+t.responseText+"</li></ul></div>")},dataType:"jsonp"})}return!1}),i(function(){i("form.widget_wysija").validationEngine("attach",{promptPosition:"centerRight",scroll:!1}),i("form.widget_wysija").bind("jqv.form.validating",function(){i(this).find("input[placeholder]").each(function(){i(this).val()===i(this).attr("placeholder")&&i(this).val("")})}),i("form.widget_wysija").find("input[placeholder]").each(function(){""===i(this).val()&&i(this).val(i(this).attr("placeholder"))}),i("form.widget_wysija").bind("jqv.form.validating",function(){i(this).find("input.defaultlabels").each(function(){i(this).val()===i(this).attr("title")&&i(this).val("")})}),i("form.widget_wysija").find("input.defaultlabels").each(function(){""===i(this).val()&&i(this).val(i(this).attr("title"))})})});
